# Fly.io configuration for Landon News
app = "landon-news"
primary_region = "iad"

[build]
dockerfile = "Dockerfile"

[[services]]
protocol = "tcp"
internal_port = 5000
processes = ["app"]

  [services.concurrency]
  type = "connections"
  hard_limit = 100
  soft_limit = 80

  [[services.ports]]
  port = 80
  handlers = ["http"]

  [[services.ports]]
  port = 443
  handlers = ["tls", "http"]

# If you want persistent SQLite storage, create a Fly volume and add a mounts block like:
# [[mounts]]
#   source = "landon-news-data"
#   destination = "/app"
# Create the volume with: `fly volumes create landon-news-data --size 1 --region iad`
